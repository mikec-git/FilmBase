"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[646],{1646(e,t,s){s.r(t),s.d(t,{default:()=>x});var n=s(5043),r=s(138),o=s(3701),a=s(9167),i=s(6628),l=s(3259),c=s(1933),p=s(2747),d=s(6842),h=s(3972);const u="Search_Search__aYXWn";var _=s(579);class g extends n.Component{constructor(){super(...arguments),this.state={currentQueryParams:""},this.getFilmDetailsHandler=(e,t)=>{"tv"===t?this.props.onGetTVDetails(e):"movie"===t&&this.props.onGetMovieDetails(e)},this.arrowClickedHandler=e=>{this.props.onChangeSearchList(e)}}componentDidMount(){const e=new URLSearchParams(this.props.location.search).get("q");this.props.onGetSearchbarResults(e),this.setState({currentQueryParams:e}),window.scrollTo(0,0)}componentDidUpdate(){if(!this.props.location.state||!this.props.location.state.modal){const e=new URLSearchParams(this.props.location.search).get("q");e!==this.state.currentQueryParams&&(this.props.onGetSearchbarResults(e),this.setState({currentQueryParams:e}))}}render(){let e=this.props.listLength,t=null;h.DZ(this.props.results,0)&&(window.innerWidth<=400?e=10:window.innerWidth<=700?e=14:window.innerWidth<=900&&(e=16),t=(0,_.jsx)(i.A,{context:"discover",page:this.props.showPage,maxPage:this.props.maxPage,results:this.props.results,listLength:e,videoClicked:this.getFilmDetailsHandler,arrowClicked:this.arrowClickedHandler,isImgLoaded:!this.props.loading,isSearch:!0,hasPathPrefix:!0}));let s="Search",n="Results";return this.state.currentQueryParams&&""!==this.state.currentQueryParams&&(s=["Searching for ",this.state.currentQueryParams,"..."].join(""),n=[this.props.totalResults," Results for ",this.state.currentQueryParams].join("")),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(l.A,{loading:this.props.loadingInit,pageTitle:s}),(0,_.jsxs)("div",{className:u,children:[(0,_.jsx)(a.A,{context:"search",headerTitle:n}),t]})]})}}const x=(0,o.A)((0,r.Ng)(e=>({results:e.search.searchResults,totalResults:e.search.totalResults,loadingInit:e.search.loadingInit,loading:e.search.loading,showPage:e.search.showPage,showLength:e.app.showLength,listLength:e.app.listLength}),e=>({onGetSearchbarResults:t=>e(c.U_(t)),onChangeSearchList:t=>e(c.D3(t)),onGetTVDetails:t=>e(p.BI(t)),onGetMovieDetails:t=>e(d.LF(t))}))(g))},6974(e,t,s){s.d(t,{A:()=>c});s(5043);const n="Button_Button__jOnol",r="Button_Button__Text__dYI2F",o="Button_Button__Login__-pTdu",a="Button_Button__Logout__w-1QT";var i=s(3972),l=s(579);const c=e=>{let t=null,s=[n];return e.btnClicked&&(t=e.btnClicked,e.buttonArgs?t=t=>e.btnClicked(t,e.buttonArgs):i.DZ(e.buttonArgs,0)&&(t=t=>e.btnClicked(t,...e.buttonArgs))),"login"===e.context?s.push(o):"logout"===e.context&&s.push(a),e.isLink?(0,l.jsx)("a",{href:e.href,target:e.target,rel:"noopener noreferrer",className:s.join(" "),children:(0,l.jsx)("span",{className:r,children:e.text})}):(0,l.jsx)("button",{className:s.join(" "),onClick:t,children:(0,l.jsx)("span",{className:r,children:e.text})})}},9167(e,t,s){s.d(t,{A:()=>C});s(5043);var n=s(9400),r=s(6974),o=s(2555),a=s(6739);const i="Dropdown_Dropdown__77d7W",l="Dropdown_Dropdown_discover__Vg+S9",c="Dropdown_Dropdown__List__udFp4",p="Dropdown_Dropdown__List_discover__berls",d="Dropdown_Dropdown__Header__uhsBD",h="Dropdown_Dropdown__Header_discover__LARVi",u="Dropdown_Dropdown__Item__xLKHJ",_="Dropdown_Dropdown__Item_discover__D4lOI";var g=s(579);const x=e=>{const{stateKey:t,updateKey:s}=e;let n=[i],r=[d],o=[c],a=[u];"discover"===e.context&&(n.push(l),r.push(h),o.push(p),a.push(_));const x=e.options.map(n=>(0,g.jsx)("li",{onClick:r=>e.selected(n.text,t,s),className:a.join(" "),children:n.text},n.text));return(0,g.jsxs)("div",{className:n.join(" "),children:[(0,g.jsx)("div",{className:r.join(" "),children:e.value}),(0,g.jsx)("ul",{className:o.join(" "),children:x})]})},m="Filters_Filters__f+39R",w=e=>{let t=[],s=[];e.filters&&Object.entries(e.filters).forEach(n=>{let[r,i]=n;"text"===i.inputType?t.push((0,g.jsx)(a.A,(0,o.A)({context:"discoverText",stateKey:e.stateKey,updateKey:r,func:e.inputChanged},i),r)):"select"===i.inputType&&s.push((0,g.jsx)(x,(0,o.A)({context:"discover",stateKey:e.stateKey,updateKey:r,selected:e.inputChanged},i),r))});const n=(0,g.jsx)(a.A,{context:"discoverSubmit",inputType:"submit",inputConfig:{type:"submit",placeholder:"Apply"},value:"Apply",func:e.applyFilters});return(0,g.jsxs)("form",{className:m,onSubmit:e.applyFilters,children:[t,s,n]})};var j=s(3972);const v="Header_Header__iXEUC",f="Header_Header__Discover__-LaGS",D="Header_Header__Login__Octlh",y="Header_Header__Login_Buttons__9HuNE",b="Header_Header__Fineprint__ZGm1l",C=e=>{const{context:t,headerTitle:s}=e;let o=[v],a=null;"discover"===t&&(o.push(f),a=(0,g.jsx)(w,{stateKey:e.stateKey,applyFilters:e.applyFilters,inputChanged:e.updateInputValue,filters:e.filters}));let i=null,l=null;return"login"===t&&(o.push(D),j._C(e.buttons)&&(i=[],Object.entries(e.buttons).forEach(s=>{let[n,o]=s;"link"===o.inputConfig.type?i.push((0,g.jsx)(r.A,{href:o.inputConfig.href,target:"_blank",isLink:!0,context:t,text:o.value},n)):i.push((0,g.jsx)(r.A,{btnClicked:e.btnClicked,text:o.value,context:t,buttonArgs:o.inputConfig},n))}),e.fineprint&&(l=(0,g.jsx)("p",{className:b,children:e.fineprint.value})),i=(0,g.jsx)("div",{className:y,children:i}))),(0,g.jsxs)("header",{className:o.join(" "),children:[(0,g.jsx)(n.A,{title:s,context:t}),a,i,l]})}}}]);
//# sourceMappingURL=646.fa9c4fac.chunk.js.map