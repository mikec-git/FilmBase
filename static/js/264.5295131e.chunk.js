"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[264],{6974(e,t,s){s.d(t,{A:()=>p});s(5043);const i="Button_Button__jOnol",o="Button_Button__Text__dYI2F",n="Button_Button__Login__-pTdu",a="Button_Button__Logout__w-1QT";var r=s(3972),l=s(579);const p=e=>{let t=null,s=[i];return e.btnClicked&&(t=e.btnClicked,e.buttonArgs?t=t=>e.btnClicked(t,e.buttonArgs):r.DZ(e.buttonArgs,0)&&(t=t=>e.btnClicked(t,...e.buttonArgs))),"login"===e.context?s.push(n):"logout"===e.context&&s.push(a),e.isLink?(0,l.jsx)("a",{href:e.href,target:e.target,rel:"noopener noreferrer",className:s.join(" "),children:(0,l.jsx)("span",{className:o,children:e.text})}):(0,l.jsx)("button",{className:s.join(" "),onClick:t,children:(0,l.jsx)("span",{className:o,children:e.text})})}},9167(e,t,s){s.d(t,{A:()=>L});s(5043);var i=s(9400),o=s(6974),n=s(2555),a=s(6739);const r="Dropdown_Dropdown__77d7W",l="Dropdown_Dropdown_discover__Vg+S9",p="Dropdown_Dropdown__List__udFp4",d="Dropdown_Dropdown__List_discover__berls",u="Dropdown_Dropdown__Header__uhsBD",c="Dropdown_Dropdown__Header_discover__LARVi",h="Dropdown_Dropdown__Item__xLKHJ",_="Dropdown_Dropdown__Item_discover__D4lOI";var g=s(579);const v=e=>{const{stateKey:t,updateKey:s}=e;let i=[r],o=[u],n=[p],a=[h];"discover"===e.context&&(i.push(l),o.push(c),n.push(d),a.push(_));const v=e.options.map(i=>(0,g.jsx)("li",{onClick:o=>e.selected(i.text,t,s),className:a.join(" "),children:i.text},i.text));return(0,g.jsxs)("div",{className:i.join(" "),children:[(0,g.jsx)("div",{className:o.join(" "),children:e.value}),(0,g.jsx)("ul",{className:n.join(" "),children:v})]})},x="Filters_Filters__f+39R",y=e=>{let t=[],s=[];e.filters&&Object.entries(e.filters).forEach(i=>{let[o,r]=i;"text"===r.inputType?t.push((0,g.jsx)(a.A,(0,n.A)({context:"discoverText",stateKey:e.stateKey,updateKey:o,func:e.inputChanged},r),o)):"select"===r.inputType&&s.push((0,g.jsx)(v,(0,n.A)({context:"discover",stateKey:e.stateKey,updateKey:o,selected:e.inputChanged},r),o))});const i=(0,g.jsx)(a.A,{context:"discoverSubmit",inputType:"submit",inputConfig:{type:"submit",placeholder:"Apply"},value:"Apply",func:e.applyFilters});return(0,g.jsxs)("form",{className:x,onSubmit:e.applyFilters,children:[t,s,i]})};var m=s(3972);const f="Header_Header__iXEUC",D="Header_Header__Discover__-LaGS",j="Header_Header__Login__Octlh",w="Header_Header__Login_Buttons__9HuNE",C="Header_Header__Fineprint__ZGm1l",L=e=>{const{context:t,headerTitle:s}=e;let n=[f],a=null;"discover"===t&&(n.push(D),a=(0,g.jsx)(y,{stateKey:e.stateKey,applyFilters:e.applyFilters,inputChanged:e.updateInputValue,filters:e.filters}));let r=null,l=null;return"login"===t&&(n.push(j),m._C(e.buttons)&&(r=[],Object.entries(e.buttons).forEach(s=>{let[i,n]=s;"link"===n.inputConfig.type?r.push((0,g.jsx)(o.A,{href:n.inputConfig.href,target:"_blank",isLink:!0,context:t,text:n.value},i)):r.push((0,g.jsx)(o.A,{btnClicked:e.btnClicked,text:n.value,context:t,buttonArgs:n.inputConfig},i))}),e.fineprint&&(l=(0,g.jsx)("p",{className:C,children:e.fineprint.value})),r=(0,g.jsx)("div",{className:w,children:r}))),(0,g.jsxs)("header",{className:n.join(" "),children:[(0,g.jsx)(i.A,{title:s,context:t}),a,r,l]})}},9264(e,t,s){s.r(t),s.d(t,{default:()=>x});var i=s(5043),o=s(138),n=s(3259),a=s(9167),r=s(6628);const l="Discover_Discover__60WN3",p="Discover_Discover__Results__CR2eX",d="Discover_Discover__NoResults__eGbwU";var u=s(3828),c=s(6842),h=s(2747),_=s(3972),g=s(579);class v extends i.Component{constructor(){super(...arguments),this.state={filters:{sortBy:{inputType:"select",value:"Sort Order",hasDictionary:!0,inputConfig:{name:"sort_by",defaultVal:"Sort Order"},options:[{text:"Sort Order"},{text:"Popularity: High to Low"},{text:"Popularity: Low to High"},{text:"Rating: High to Low"},{text:"Rating: Low to High"},{text:"Release Date: New to Old"},{text:"Release Date: Old to New"},{text:"Title: A to Z"},{text:"Title: Z to A"},{text:"Revenue: High to Low"},{text:"Revenue: Low to High"}]},year:{inputType:"select",value:"By Year",inputConfig:{name:"primary_release_year",defaultVal:"By Year"},options:_.Xt("By Year",50,_.hk(),"desc")},rating:{inputType:"select",value:"By Rating",inputConfig:{name:"vote_average.gte",defaultVal:"By Rating"},options:_.Xt("By Rating",10,10,"desc")},media:{inputType:"select",value:"Movie",inputConfig:{isMedia:!0},options:[{text:"Movie"},{text:"TV"}]},keywords:{inputType:"text",value:"",inputConfig:{type:"text",placeholder:"Keywords",name:"with_keywords"}},people:{inputType:"text",value:"",inputConfig:{type:"text",placeholder:"People Involved",name:"with_people"}}},initFilters:{media:{name:"movie",value:"Movie"},year:{name:"primary_release_year",value:_.hk()}},searchQueryPath:"",isLoaded:!1},this.updateInputValueHandler=(e,t,s)=>{let i="";e.target&&e.target.value?i=e.target.value:"string"===typeof e&&(i=e),this.setState({[t]:_.yX(t,s,i,this.state)})},this.applyFiltersHandler=e=>{e.preventDefault();const t={},s=[];Object.entries(this.state.filters).forEach(e=>{let[i,o]=e,{inputConfig:n,value:a,inputType:r,hasDictionary:l}=o,{name:p,defaultVal:d,isMedia:u}=n;"select"===r&&d!==a?(l&&(a=_.XV(a)),u?(p=a.toLowerCase(),s.push(["media",p].join("="))):s.push([p,a].join("=")),t[i]={name:p,value:a}):"select"!==r&&""!==a&&(s.push([p,a].join("=")),t[i]={name:p,value:a})});const{history:i,onGetDiscoverResults:o,page:n}=this.props;if(_._C(t)){const e=["/discover?",s.join("&")].join(""),a=[e,"&page=",n].join("");o(t),i.push(a),this.setState({searchQueryPath:e})}else i.push("/discover")},this.getFilmDetailsHandler=(e,t)=>{"tv"===t?this.props.onGetTVDetails(e):"movie"===t&&this.props.onGetMovieDetails(e)},this.arrowClickedHandler=e=>{this.props.onChangeDiscoverList(e)}}componentDidMount(){const{initFilters:e}=this.state,t=["/discover?",e.year.name,"=",e.year.value,"&media=",e.media.name].join("");this.setState({searchQueryPath:t}),this.props.onGetDiscoverInit(e),window.scrollTo(0,0)}componentDidUpdate(e){const{page:t}=e,{location:s,history:i,page:o,loading:n,listLength:a}=this.props,{searchQueryPath:r,isLoaded:l}=this.state;""!==r&&t!==o&&i.push(r.concat(["&page=",o].join(""))),a&&(l||n?l&&n&&!s.state&&this.setState({isLoaded:!1}):this.setState({isLoaded:!0}))}render(){let e=(0,g.jsx)(r.A,{context:"discover",page:this.props.page,maxPage:this.props.maxPage,results:this.props.results,listLength:this.props.listLength,videoClicked:this.getFilmDetailsHandler,arrowClicked:this.arrowClickedHandler,mediaType:this.state.filters.media.value.toLowerCase(),isImgLoaded:this.state.isLoaded,isDiscover:!0,hasPathPrefix:!0}),t=null;return this.props.loading||this.props.loadingInit||(0===this.props.results.length?e=(0,g.jsxs)("p",{className:d,children:[this.props.totalResults," results found"]}):t=(0,g.jsxs)("p",{className:p,children:[this.props.totalResults," results found"]})),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n.A,{loading:this.props.loadingInit,pageTitle:"Discover More"}),(0,g.jsxs)("div",{className:l,children:[(0,g.jsx)(a.A,{headerTitle:"Discover",context:"discover",stateKey:"filters",applyFilters:this.applyFiltersHandler,updateInputValue:this.updateInputValueHandler,filters:this.state.filters}),t,e]})]})}}const x=(0,o.Ng)(e=>({results:e.discover.results,totalResults:e.discover.totalResults,loadingInit:e.discover.loadingInit,loading:e.discover.loading,page:e.discover.showPage,loadedPage:e.discover.page,maxPage:e.discover.maxPage,listLength:e.app.listLength}),e=>({onGetDiscoverInit:t=>e(u.uf(t)),onGetDiscoverResults:t=>e(u.Y6(t)),onChangeDiscoverList:t=>e(u.et(t)),onGetMovieDetails:t=>e(c.LF(t)),onGetTVDetails:t=>e(h.BI(t))}))(v)}}]);
//# sourceMappingURL=264.5295131e.chunk.js.map