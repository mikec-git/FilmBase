"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[489],{6489(e,t,n){n.r(t),n.d(t,{default:()=>h});var s=n(5043),o=n(138),i=n(9167),r=n(3972);const l="BgImages_BgImages__9cS2s",a="BgImages_BgImages__First__QdCVF",p="BgImages_BgImages__Second__-XNgQ";var c=n(579);const d=e=>{const{images:t}=e,n=[];if(r.DZ(t,0))for(n.push(t[r.RZ(t.length)]),n.push(t[r.RZ(t.length)]);n[0]===n[1];)n[1]=t[r.RZ(t.length)];return(0,c.jsxs)("div",{className:l,children:[(0,c.jsx)("img",{className:a,src:n[0],alt:"Login Backdrop 1"}),(0,c.jsx)("img",{className:p,src:n[1],alt:"Login Backdrop 2"})]})},u="Login_Login__jWd+5";var _=n(5284);class g extends s.Component{constructor(){super(...arguments),this.state={buttons:{login:{value:"Login",inputConfig:{type:"login"}},guest:{value:"Browse as Guest*",inputConfig:{type:"guest"}},newAcc:{value:"Create a New Account",inputConfig:{type:"link",href:"https://www.themoviedb.org/account/signup"}}},fineprint:{value:"*Guest has limited access to features"}},this.loginClickedHandler=(e,t)=>{e.preventDefault(),this.props.onLogin(t.type)}}componentDidMount(){this.props.onGetLoginInit();let e=new URLSearchParams(this.props.location.search);e&&e.get("approved")?(this.props.onLoginApproved(e.get("request_token")),this.props.history.replace("/profile")):e&&!e.get("approved")?(this.props.onLoginUnapproved(),this.props.history.replace("/login")):localStorage.getItem("session")||this.props.history.replace("/login"),window.scrollTo(0,0)}render(){return(0,c.jsxs)("div",{className:u,children:[(0,c.jsx)(i.A,{context:"login",headerTitle:"Login",fineprint:this.state.fineprint,buttons:this.state.buttons,btnClicked:this.loginClickedHandler}),(0,c.jsx)(d,{images:this.props.images})]})}}const h=(0,o.Ng)(e=>({images:e.login.loginImages,loadingInit:e.login.loadingInit,requesting:e.login.requesting,loggedIn:e.login.loggedIn}),e=>({onGetLoginInit:()=>e(_.Mo()),onLogin:t=>e(_.iD(t)),onLoginApproved:t=>e(_.p0(t)),onLoginUnapproved:()=>e(_.ix())}))(g)},6974(e,t,n){n.d(t,{A:()=>p});n(5043);const s="Button_Button__jOnol",o="Button_Button__Text__dYI2F",i="Button_Button__Login__-pTdu",r="Button_Button__Logout__w-1QT";var l=n(3972),a=n(579);const p=e=>{let t=null,n=[s];return e.btnClicked&&(t=e.btnClicked,e.buttonArgs?t=t=>e.btnClicked(t,e.buttonArgs):l.DZ(e.buttonArgs,0)&&(t=t=>e.btnClicked(t,...e.buttonArgs))),"login"===e.context?n.push(i):"logout"===e.context&&n.push(r),e.isLink?(0,a.jsx)("a",{href:e.href,target:e.target,rel:"noopener noreferrer",className:n.join(" "),children:(0,a.jsx)("span",{className:o,children:e.text})}):(0,a.jsx)("button",{className:n.join(" "),onClick:t,children:(0,a.jsx)("span",{className:o,children:e.text})})}},9167(e,t,n){n.d(t,{A:()=>L});n(5043);var s=n(9400),o=n(6974),i=n(2555),r=n(6739);const l="Dropdown_Dropdown__77d7W",a="Dropdown_Dropdown_discover__Vg+S9",p="Dropdown_Dropdown__List__udFp4",c="Dropdown_Dropdown__List_discover__berls",d="Dropdown_Dropdown__Header__uhsBD",u="Dropdown_Dropdown__Header_discover__LARVi",_="Dropdown_Dropdown__Item__xLKHJ",g="Dropdown_Dropdown__Item_discover__D4lOI";var h=n(579);const x=e=>{const{stateKey:t,updateKey:n}=e;let s=[l],o=[d],i=[p],r=[_];"discover"===e.context&&(s.push(a),o.push(u),i.push(c),r.push(g));const x=e.options.map(s=>(0,h.jsx)("li",{onClick:o=>e.selected(s.text,t,n),className:r.join(" "),children:s.text},s.text));return(0,h.jsxs)("div",{className:s.join(" "),children:[(0,h.jsx)("div",{className:o.join(" "),children:e.value}),(0,h.jsx)("ul",{className:i.join(" "),children:x})]})},m="Filters_Filters__f+39R",v=e=>{let t=[],n=[];e.filters&&Object.entries(e.filters).forEach(s=>{let[o,l]=s;"text"===l.inputType?t.push((0,h.jsx)(r.A,(0,i.A)({context:"discoverText",stateKey:e.stateKey,updateKey:o,func:e.inputChanged},l),o)):"select"===l.inputType&&n.push((0,h.jsx)(x,(0,i.A)({context:"discover",stateKey:e.stateKey,updateKey:o,selected:e.inputChanged},l),o))});const s=(0,h.jsx)(r.A,{context:"discoverSubmit",inputType:"submit",inputConfig:{type:"submit",placeholder:"Apply"},value:"Apply",func:e.applyFilters});return(0,h.jsxs)("form",{className:m,onSubmit:e.applyFilters,children:[t,n,s]})};var f=n(3972);const j="Header_Header__iXEUC",b="Header_Header__Discover__-LaGS",w="Header_Header__Login__Octlh",y="Header_Header__Login_Buttons__9HuNE",C="Header_Header__Fineprint__ZGm1l",L=e=>{const{context:t,headerTitle:n}=e;let i=[j],r=null;"discover"===t&&(i.push(b),r=(0,h.jsx)(v,{stateKey:e.stateKey,applyFilters:e.applyFilters,inputChanged:e.updateInputValue,filters:e.filters}));let l=null,a=null;return"login"===t&&(i.push(w),f._C(e.buttons)&&(l=[],Object.entries(e.buttons).forEach(n=>{let[s,i]=n;"link"===i.inputConfig.type?l.push((0,h.jsx)(o.A,{href:i.inputConfig.href,target:"_blank",isLink:!0,context:t,text:i.value},s)):l.push((0,h.jsx)(o.A,{btnClicked:e.btnClicked,text:i.value,context:t,buttonArgs:i.inputConfig},s))}),e.fineprint&&(a=(0,h.jsx)("p",{className:C,children:e.fineprint.value})),l=(0,h.jsx)("div",{className:y,children:l}))),(0,h.jsxs)("header",{className:i.join(" "),children:[(0,h.jsx)(s.A,{title:n,context:t}),r,l,a]})}}}]);
//# sourceMappingURL=489.8df86541.chunk.js.map