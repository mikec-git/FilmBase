"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[685],{4685(e,t,s){s.r(t),s.d(t,{default:()=>Q});var i=s(2555),o=s(5043),r=s(138),l=s(9213),a=s(9400),n=s(2100);const c=s.p+"static/media/user.989ebc7f6fb36271170bb5b212dc9ce9.svg",h="User_User__lRlaH",_="User_User__Caption__xg-YN",g="User_User__CreateAccount__QWRtn";var d=s(579);const u=e=>{let t=null,s=null;return e.isGuest?(s=(0,d.jsx)("a",{className:g,href:"https://www.themoviedb.org/account/signup",target:"_blank",rel:"noreferrer noopener",children:"Create an Account"}),t=(0,d.jsx)(a.A,{context:"profile",title:"Welcome "+e.userName})):t=(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.A,{context:"profile",title:"Welcome "+e.userName}),(0,d.jsx)("a",{className:g,href:"https://www.themoviedb.org/u/"+e.userName,target:"_blank",rel:"noreferrer noopener",children:(0,d.jsx)(n.A,{context:"profile",subtitle:e.name||e.userName})})]}),(0,d.jsxs)("figure",{className:h,children:[(0,d.jsx)(l.A,{context:"avatar",imgSrc:c,imgAlt:"User Avatar"}),(0,d.jsxs)("figcaption",{className:_,children:[t,s]})]})};var p=s(6974);const m="SidePanel_SidePanel__MzbZ9",f="SidePanel_SidePanel__Group__-8Q9R",v=e=>(0,d.jsx)("div",{className:m,children:(0,d.jsxs)("div",{className:f,children:[(0,d.jsx)(u,{userName:e.userName,name:e.name,isGuest:e.isGuest}),(0,d.jsx)(p.A,{context:"logout",btnClicked:e.logout,text:"Logout"})]})});var x=s(7819),j=s(822),N=s(6641),b=s(5985);const A="Highlights_Highlights__Ne6rR",P="Highlights_Highlights__Image__+-wSp",T="Highlights_Highlights__ImageWrapper__IdT2l",w="Highlights_Highlights__Name__A0--Q",C="Highlights_Highlights__Count__C7QSh",H="Highlights_Highlights__Count_favorite__7ryhi",S=e=>{let t=null,s=e.highlightName,i=[C],o=0;return"rated"===e.type?t=b.A:"favorite"===e.type&&(t=N.A,i.push(H)),e.count&&e.count>0&&(o=e.count),1===o&&(s=s.substring(0,s.length-1)),(0,d.jsxs)("div",{className:A,children:[(0,d.jsxs)("div",{className:T,children:[(0,d.jsx)("img",{className:P,src:t,alt:e.highlightName}),(0,d.jsx)("span",{className:i.join(" "),children:o})]}),(0,d.jsx)("span",{className:w,children:s})]})};var y=s(3259);const I="Profile_Profile__lxwS8",k="Profile_Profile__SidePanel__IdtUV",D="Profile_Profile__Highlights__gVwji",G="Profile_Profile__Carousel__P5NR0",B="Profile_Profile__Lists__MEDUA",M="Profile_Profile__NotAvailable__HNOT6";var V=s(4760),R=s(5284),F=s(6842),U=s(2747),L=s(3972);class O extends o.Component{constructor(){super(...arguments),this.state={guest:{categories:{rated:{movie:"Rated Movies",tv:"Rated TV Shows"}},type:{rated:{movie:"ratedMovies",tv:"ratedTV"}}},login:{categories:{favorite:{movie:"Favorite Movies",tv:"Favorite TV Shows"},rated:{movie:"Rated Movies",tv:"Rated TV Shows"}},type:{favorite:{movie:"favoriteMovies",tv:"favoriteTV"},rated:{movie:"ratedMovies",tv:"ratedTV"}}}},this.getFilmDetailsHandler=(e,t)=>{"tv"===t?this.props.onGetTVDetails(e):"movie"===t&&this.props.onGetMovieDetails(e)}}componentDidMount(){JSON.parse(localStorage.getItem("session"))?this.props.onGetProfileInit():(this.props.history.replace("/login"),this.props.onClearProfileData()),window.scrollTo(0,0)}render(){let e=null,t=[],s=[];const{authType:o,loadingInit:r}=this.props,l={slidesToShow:5,slidesToScroll:1};if(!r&&o){let r=null,a=null,c=null;const h=this.state[o],{rated:_,favorite:g,profile:u}=this.props;if("guest"===o?(r="Guest",c={rated:_}):"login"===o&&(a=u.name,r=u.userName,c={favorite:g,rated:_}),L._C(c)){let e="/profile/";Object.entries(c).forEach(o=>{let[r,a]=o;Object.entries(a).forEach(o=>{let[a,c]=o,_="movie"===a?"/profile/movie/":"/profile/tv/";const g=c.map(t=>(0,d.jsx)(j.A,{videoId:t.id,image:t.poster_path,title:t.title||t.name,rating:t.vote_average,showVideo:this.getFilmDetailsHandler,pathBase:_,typePathBase:e},t.id));L.DZ(g,0)?(t.push((0,d.jsxs)("div",{className:G,children:[(0,d.jsx)(n.A,{context:"moreInfo",subtitle:h.categories[r][a]}),(0,d.jsx)(x.A,(0,i.A)((0,i.A)({},l),{},{list:g}))]},h.type[r][a])),s.push((0,d.jsx)(S,{type:r,count:g.length,highlightName:h.categories[r][a]},h.type[r][a]))):(t.push((0,d.jsxs)("div",{className:G,children:[(0,d.jsx)(n.A,{context:"moreInfo",subtitle:h.categories[r][a]}),(0,d.jsxs)("p",{className:M,children:["No ",h.categories[r][a]," Found"]})]},h.type[r][a])),s.push((0,d.jsx)(S,{type:r,highlightName:h.categories[r][a]},h.type[r][a])))})})}e=(0,d.jsx)(v,{isGuest:"guest"===o,userName:r,name:a,logout:this.props.onLogout})}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(y.A,{loading:this.props.loadingInit,pageTitle:"Profile"}),(0,d.jsxs)("div",{className:I,children:[(0,d.jsx)("div",{className:k,children:e}),(0,d.jsxs)("section",{className:B,children:[(0,d.jsx)("div",{className:D,children:s}),t]})]})]})}}const Q=(0,r.Ng)(e=>({profile:e.profile.profile,favorite:e.profile.favorite,rated:e.profile.rated,authType:e.profile.authType,loadingInit:e.profile.loadingInit}),e=>({onGetProfileInit:()=>e(V.SR()),onClearProfileData:()=>e(V.hv()),onLogout:()=>e(R.ri()),onGetTVDetails:t=>e(U.BI(t)),onGetMovieDetails:t=>e(F.LF(t))}))(O)},6974(e,t,s){s.d(t,{A:()=>c});s(5043);const i="Button_Button__jOnol",o="Button_Button__Text__dYI2F",r="Button_Button__Login__-pTdu",l="Button_Button__Logout__w-1QT";var a=s(3972),n=s(579);const c=e=>{let t=null,s=[i];return e.btnClicked&&(t=e.btnClicked,e.buttonArgs?t=t=>e.btnClicked(t,e.buttonArgs):a.DZ(e.buttonArgs,0)&&(t=t=>e.btnClicked(t,...e.buttonArgs))),"login"===e.context?s.push(r):"logout"===e.context&&s.push(l),e.isLink?(0,n.jsx)("a",{href:e.href,target:e.target,rel:"noopener noreferrer",className:s.join(" "),children:(0,n.jsx)("span",{className:o,children:e.text})}):(0,n.jsx)("button",{className:s.join(" "),onClick:t,children:(0,n.jsx)("span",{className:o,children:e.text})})}}}]);
//# sourceMappingURL=685.e1ea4741.chunk.js.map