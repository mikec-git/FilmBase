{"version":3,"file":"static/js/720.b95013d6.chunk.js","mappings":"iNACA,QAA2B,qB,aCW3B,MAAMA,UAAWC,EAAAA,UAAUC,WAAAA,GAAA,SAAAC,WAAA,KACzBC,iBAAoBC,EAAAA,YAAkB,KAEtCC,MAAQ,CACNC,cAAe,CACbC,YAAa,eACbC,SAAU,aACVC,QAAS,YAwBb,KACAC,cAAgB,KACdC,KAAKC,UAAYC,YAAY,IAAMF,KAAKG,oBAAoB,SAAU,MAGxE,KACAC,kBAAqBC,IACnBL,KAAKM,MAAMC,mBAAmBF,EAAML,KAAKR,iBAAiBgB,SAC1DR,KAAKS,0BACN,KAEDN,oBAAuBO,IACrBV,KAAKM,MAAMK,wBAAwBD,EAAOV,KAAKR,iBAAiBgB,QAASR,KAAKM,MAAMM,YACpFZ,KAAKS,0BACN,KAEDA,uBAAyB,KACvBI,cAAcb,KAAKC,WACnBD,KAAKD,iBAGP,KACAe,YAAc,KACZd,KAAKM,MAAMS,sBAAsBf,KAAKR,iBAAiBgB,UAGzD,KACAQ,oBAAuBX,IACrBL,KAAKM,MAAMW,eAAeZ,GAC1BQ,cAAcb,KAAKC,WACnBD,KAAKkB,aAAc,GACpB,KAEDC,wBAA0B,CAACT,EAAOU,KAChCpB,KAAKM,MAAMe,eAAeX,EAAOU,GAClC,CAvDDE,iBAAAA,GACEC,OAAOC,iBAAiB,SAAUxB,KAAKc,aACvCd,KAAKM,MAAMmB,gBACXzB,KAAKD,gBACLwB,OAAOG,SAAS,EAAG,EACrB,CAEAC,oBAAAA,GACEd,cAAcb,KAAKC,WACnBsB,OAAOK,oBAAoB,SAAU5B,KAAKc,aAC1Cd,KAAKM,MAAMuB,oBACb,CAEAC,kBAAAA,IACK9B,KAAKkB,aAA6C,QAA9BlB,KAAKM,MAAMyB,QAAQC,QAAsBhC,KAAKM,MAAM2B,SAASvC,OAAUM,KAAKM,MAAM2B,SAASvC,MAAMwC,QACtHlC,KAAKD,gBACLC,KAAKkB,aAAc,EAEvB,CAuCAiB,MAAAA,GACE,IAAIC,EAAc,KACdC,EAAc,KACdC,EAAc,GACdC,EAAc,GAUlB,GARGhB,OAAOiB,YAAc,IACtBF,EAAa,EACLf,OAAOiB,YAAc,IAC7BF,EAAa,EACLf,OAAOiB,YAAc,MAC7BF,EAAa,IAGZG,EAAAA,GAAgBzC,KAAKM,MAAMoC,IAAK,CACjC,MAAMC,EAAa3C,KAAKM,MAAM2B,SAASW,SACjCC,EAAgB7C,KAAKM,MAAMoC,GAAgB,YAAEI,OAEnDV,GAAWW,EAAAA,EAAAA,KAACC,EAAAA,EAAQ,CAClBF,OAAQD,EAAcI,MAAM,EAAGjD,KAAKM,MAAMM,YAC1CsC,WAAYlD,KAAKI,kBACjB+C,aAAcnD,KAAKG,oBACnBiD,WAAYpD,KAAKM,MAAM+C,eACvBC,SAAUtD,KAAKR,iBACf+D,aAAcvD,KAAKgB,oBACnBwC,SAAUb,IAEZc,OAAOC,QAAQ1D,KAAKM,MAAMoC,IAAIiB,QAAQC,IAAoB,IAAlBC,EAAKC,GAAOF,EAClDrB,EAASwB,MACPC,EAAAA,EAAAA,MAACC,EAAAA,SAAQ,CAAAC,SAAA,EACPnB,EAAAA,EAAAA,KAACoB,EAAAA,EAAQ,CAAC/C,SAAUpB,KAAKN,MAAMC,cAAckE,MAC7Cd,EAAAA,EAAAA,KAACqB,EAAAA,EAAM,CACLhD,SAAU0C,EAAO1C,SACjBiD,QAASP,EAAOhB,OAChBwB,QAAQ,OACRhC,WAAYA,EACZiC,KAAMvE,KAAKM,MAAMkE,SAASX,GAC1BV,aAAcnD,KAAKmB,wBACnBoC,aAAcvD,KAAKgB,oBACnBwC,SAAUb,EACV8B,aAAczE,KAAKM,MAAMoE,QAAQb,OAXtBC,EAAO1C,aAiB1BiB,GACE2B,EAAAA,EAAAA,MAAAW,EAAAA,SAAA,CAAAT,SAAA,CACG9B,GACDW,EAAAA,EAAAA,KAAA,OAAK6B,UAAWC,EAAWX,SACxB3B,MAIT,CAEA,OACEyB,EAAAA,EAAAA,MAAAW,EAAAA,SAAA,CAAAT,SAAA,EACEnB,EAAAA,EAAAA,KAAC+B,EAAAA,EAAO,CAACJ,QAAS1E,KAAKM,MAAMyE,YAAaC,UAAU,OACnD3C,IAGP,EAGF,MAwBA,GAAe4C,EAAAA,EAAAA,IAxBSvF,IACf,CACLgD,GAAIhD,EAAMgD,GAAGA,GACbqC,YAAarF,EAAMgD,GAAGqC,YACtBL,QAAShF,EAAMgD,GAAGgC,QAClBrB,eAAgB3D,EAAMgD,GAAGW,eACzBmB,SAAU9E,EAAMgD,GAAG8B,SACnB5D,WAAYlB,EAAMwF,IAAItE,WACtB0B,WAAY5C,EAAMwF,IAAI5C,aAIC6C,IAClB,CACL1D,cAAeA,IAAM0D,EAASC,EAAAA,MAC9B7E,mBAAoBA,CAACF,EAAMgF,IAAYF,EAASC,EAAAA,GAAyB/E,EAAMgF,IAC/E1E,wBAAyBA,CAACD,EAAO2E,EAASzE,IAAeuE,EAASC,EAAAA,GAA8B1E,EAAO2E,EAASzE,IAChHG,sBAAwBsE,GAAYF,EAASC,EAAAA,GAA8BC,IAC3EhE,eAAgBA,CAACX,EAAOU,IAAa+D,EAASC,EAAAA,GAAqB1E,EAAOU,IAC1EH,eAAiBZ,GAAS8E,EAASC,EAAAA,GAAqB/E,IACxDwB,mBAAoBA,IAAMsD,EAASC,EAAAA,QAIvC,CAA4DhG,E","sources":["webpack://frontend/./src/containers/TV/TV.module.scss?073e","containers/TV/TV.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"TV__Body\":\"TV_TV__Body__XQdyc\"};","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Carousel from '../../components/ORGANISMS/Carousel-O/Carousel';\r\nimport Category from '../../components/ATOMS/FilmList-A/Category-A/Category';\r\nimport TVBody from '../../components/ORGANISMS/Discover-O/DiscoverBody';\r\nimport Spinner from '../../components/ATOMS/UI-A/Spinner-A/Spinner';\r\n\r\nimport * as actions from '../../store/actions/TVActions';\r\nimport * as u from '../../shared/Utility';\r\nimport c from './TV.module.scss';\r\n\r\nclass TV extends Component {\r\n  carouselSlideRef  = React.createRef();\r\n\r\n  state = {\r\n    categoryNames: {\r\n      airingToday: 'Airing Today', \r\n      onTheAir: 'On The Air', \r\n      popular: 'Popular'\r\n    }\r\n  }\r\n  \r\n  componentDidMount() {\r\n    window.addEventListener('resize', this.resizeSlide);\r\n    this.props.onFetchTVInit();\r\n    this.startInterval();\r\n    window.scrollTo(0, 0);\r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    clearInterval(this.timeoutID);\r\n    window.removeEventListener('resize', this.resizeSlide);\r\n    this.props.onResetTranslateTV();\r\n  }\r\n  \r\n  componentDidUpdate() {\r\n    if(this.modalOpened && this.props.history.action === 'POP' && (!this.props.location.state || !this.props.location.state.modal)) {\r\n      this.startInterval();\r\n      this.modalOpened = false;\r\n    }    \r\n  }\r\n  \r\n  // Start auto rotation of carousel\r\n  startInterval = () => {\r\n    this.timeoutID = setInterval(() => this.arrowClickedHandler('right'), 5000);\r\n  }\r\n\r\n  // Manual changing of carousel tv\r\n  dotClickedHandler = (tvId) => {\r\n    this.props.onChangeCarouselTV(tvId, this.carouselSlideRef.current);\r\n    this.resetCarouselAutoSlide();\r\n  }\r\n  \r\n  arrowClickedHandler = (arrow) => {\r\n    this.props.onChangeCarouselTVArrow(arrow, this.carouselSlideRef.current, this.props.showLength);\r\n    this.resetCarouselAutoSlide();\r\n  }\r\n  \r\n  resetCarouselAutoSlide = () => {\r\n    clearInterval(this.timeoutID);\r\n    this.startInterval()\r\n  }\r\n  \r\n  // Adjust carousel translate amount on window resize\r\n  resizeSlide = () => { \r\n    this.props.onResizeCarouselSlide(this.carouselSlideRef.current);\r\n  }\r\n\r\n  // Get tv details\r\n  getTVDetailsHandler = (tvId) => {\r\n    this.props.onGetTVDetails(tvId); \r\n    clearInterval(this.timeoutID);\r\n    this.modalOpened = true;\r\n  }\r\n\r\n  listArrowClickedHandler = (arrow, category) => {\r\n    this.props.onChangeTVList(arrow, category);\r\n  }\r\n\r\n  render() { \r\n    let carousel    = null,\r\n        content     = null,\r\n        listLength  = 12,\r\n        filmList    = [];\r\n    \r\n    if(window.innerWidth <= 400) {\r\n      listLength = 4;\r\n    } else if(window.innerWidth <= 600) {\r\n      listLength = 6;\r\n    } else if(window.innerWidth <= 900) {\r\n      listLength = 10;\r\n    }\r\n\r\n    if(u.isObjNotEmpty(this.props.tv)) {\r\n      const tvPathBase = this.props.location.pathname,\r\n            airingTodayTV = this.props.tv['airingToday'].videos;\r\n            \r\n      carousel = <Carousel \r\n        videos={airingTodayTV.slice(0, this.props.showLength)}\r\n        dotClicked={this.dotClickedHandler}\r\n        arrowClicked={this.arrowClickedHandler}\r\n        translateX={this.props.translateSlide}\r\n        slideRef={this.carouselSlideRef}\r\n        videoClicked={this.getTVDetailsHandler}\r\n        pathBase={tvPathBase} />;\r\n\r\n      Object.entries(this.props.tv).forEach(([key, tvList]) => {\r\n        filmList.push(\r\n          <Fragment key={tvList.category}>\r\n            <Category category={this.state.categoryNames[key]} />\r\n            <TVBody\r\n              category={tvList.category}\r\n              results={tvList.videos}\r\n              context='main'\r\n              listLength={listLength}\r\n              page={this.props.showPage[key]}\r\n              arrowClicked={this.listArrowClickedHandler}\r\n              videoClicked={this.getTVDetailsHandler}\r\n              pathBase={tvPathBase}\r\n              isImgLoaded={!this.props.loading[key]} />\r\n          </Fragment>\r\n        );\r\n      });\r\n      \r\n\r\n      content = (\r\n        <>\r\n          {carousel}\r\n          <div className={c.TV__Body}>\r\n            {filmList}\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n    \r\n    return ( \r\n      <>\r\n        <Spinner loading={this.props.loadingInit} pageTitle='TV' />\r\n        {content}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    tv: state.tv.tv,\r\n    loadingInit: state.tv.loadingInit,\r\n    loading: state.tv.loading,\r\n    translateSlide: state.tv.translateSlide,\r\n    showPage: state.tv.showPage,\r\n    showLength: state.app.showLength,\r\n    listLength: state.app.listLength\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onFetchTVInit: () => dispatch(actions.fetchTVInit()),\r\n    onChangeCarouselTV: (tvId, element) => dispatch(actions.changeCarouselTV(tvId, element)),\r\n    onChangeCarouselTVArrow: (arrow, element, showLength) => dispatch(actions.changeCarouselTVArrow(arrow, element, showLength)),\r\n    onResizeCarouselSlide: (element) => dispatch(actions.resizeCarouselSlideTV(element)),\r\n    onChangeTVList: (arrow, category) => dispatch(actions.changeTVList(arrow, category)),\r\n    onGetTVDetails: (tvId) => dispatch(actions.getTVDetails(tvId)),\r\n    onResetTranslateTV: () => dispatch(actions.resetTranslateTV())\r\n  }\r\n}\r\n \r\nexport default connect(mapStateToProps, mapDispatchToProps)(TV);"],"names":["TV","Component","constructor","arguments","carouselSlideRef","React","state","categoryNames","airingToday","onTheAir","popular","startInterval","this","timeoutID","setInterval","arrowClickedHandler","dotClickedHandler","tvId","props","onChangeCarouselTV","current","resetCarouselAutoSlide","arrow","onChangeCarouselTVArrow","showLength","clearInterval","resizeSlide","onResizeCarouselSlide","getTVDetailsHandler","onGetTVDetails","modalOpened","listArrowClickedHandler","category","onChangeTVList","componentDidMount","window","addEventListener","onFetchTVInit","scrollTo","componentWillUnmount","removeEventListener","onResetTranslateTV","componentDidUpdate","history","action","location","modal","render","carousel","content","listLength","filmList","innerWidth","u","tv","tvPathBase","pathname","airingTodayTV","videos","_jsx","Carousel","slice","dotClicked","arrowClicked","translateX","translateSlide","slideRef","videoClicked","pathBase","Object","entries","forEach","_ref","key","tvList","push","_jsxs","Fragment","children","Category","TVBody","results","context","page","showPage","isImgLoaded","loading","_Fragment","className","c","Spinner","loadingInit","pageTitle","connect","app","dispatch","actions","element"],"ignoreList":[],"sourceRoot":""}