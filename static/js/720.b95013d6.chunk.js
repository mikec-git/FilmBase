"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[720],{1720(e,t,s){s.r(t),s.d(t,{default:()=>u});var i=s(5043),r=s(138),o=s(4904),a=s(2422),n=s(6628),l=s(3259),h=s(2747),d=s(3972);const p="TV_TV__Body__XQdyc";var c=s(579);class g extends i.Component{constructor(){super(...arguments),this.carouselSlideRef=i.createRef(),this.state={categoryNames:{airingToday:"Airing Today",onTheAir:"On The Air",popular:"Popular"}},this.startInterval=()=>{this.timeoutID=setInterval(()=>this.arrowClickedHandler("right"),5e3)},this.dotClickedHandler=e=>{this.props.onChangeCarouselTV(e,this.carouselSlideRef.current),this.resetCarouselAutoSlide()},this.arrowClickedHandler=e=>{this.props.onChangeCarouselTVArrow(e,this.carouselSlideRef.current,this.props.showLength),this.resetCarouselAutoSlide()},this.resetCarouselAutoSlide=()=>{clearInterval(this.timeoutID),this.startInterval()},this.resizeSlide=()=>{this.props.onResizeCarouselSlide(this.carouselSlideRef.current)},this.getTVDetailsHandler=e=>{this.props.onGetTVDetails(e),clearInterval(this.timeoutID),this.modalOpened=!0},this.listArrowClickedHandler=(e,t)=>{this.props.onChangeTVList(e,t)}}componentDidMount(){window.addEventListener("resize",this.resizeSlide),this.props.onFetchTVInit(),this.startInterval(),window.scrollTo(0,0)}componentWillUnmount(){clearInterval(this.timeoutID),window.removeEventListener("resize",this.resizeSlide),this.props.onResetTranslateTV()}componentDidUpdate(){!this.modalOpened||"POP"!==this.props.history.action||this.props.location.state&&this.props.location.state.modal||(this.startInterval(),this.modalOpened=!1)}render(){let e=null,t=null,s=12,r=[];if(window.innerWidth<=400?s=4:window.innerWidth<=600?s=6:window.innerWidth<=900&&(s=10),d._C(this.props.tv)){const l=this.props.location.pathname,h=this.props.tv.airingToday.videos;e=(0,c.jsx)(o.A,{videos:h.slice(0,this.props.showLength),dotClicked:this.dotClickedHandler,arrowClicked:this.arrowClickedHandler,translateX:this.props.translateSlide,slideRef:this.carouselSlideRef,videoClicked:this.getTVDetailsHandler,pathBase:l}),Object.entries(this.props.tv).forEach(e=>{let[t,o]=e;r.push((0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(a.A,{category:this.state.categoryNames[t]}),(0,c.jsx)(n.A,{category:o.category,results:o.videos,context:"main",listLength:s,page:this.props.showPage[t],arrowClicked:this.listArrowClickedHandler,videoClicked:this.getTVDetailsHandler,pathBase:l,isImgLoaded:!this.props.loading[t]})]},o.category))}),t=(0,c.jsxs)(c.Fragment,{children:[e,(0,c.jsx)("div",{className:p,children:r})]})}return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.A,{loading:this.props.loadingInit,pageTitle:"TV"}),t]})}}const u=(0,r.Ng)(e=>({tv:e.tv.tv,loadingInit:e.tv.loadingInit,loading:e.tv.loading,translateSlide:e.tv.translateSlide,showPage:e.tv.showPage,showLength:e.app.showLength,listLength:e.app.listLength}),e=>({onFetchTVInit:()=>e(h.D0()),onChangeCarouselTV:(t,s)=>e(h.Px(t,s)),onChangeCarouselTVArrow:(t,s,i)=>e(h.II(t,s,i)),onResizeCarouselSlide:t=>e(h.Wx(t)),onChangeTVList:(t,s)=>e(h.XA(t,s)),onGetTVDetails:t=>e(h.BI(t)),onResetTranslateTV:()=>e(h.GW())}))(g)}}]);
//# sourceMappingURL=720.b95013d6.chunk.js.map